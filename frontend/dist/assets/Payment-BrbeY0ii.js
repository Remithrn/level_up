import{r as f,az as c,b as j,a as N,j as r,C as E,aQ as z}from"./index-DdC0FHAS.js";import{S as x}from"./sweetalert2.esm.all-Br4OTrmy.js";function P({title:e,titleId:a,...i},n){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":a},i),e?f.createElement("title",{id:a},e):null,f.createElement("path",{fillRule:"evenodd",d:"M16.704 4.153a.75.75 0 0 1 .143 1.052l-8 10.5a.75.75 0 0 1-1.127.075l-4.5-4.5a.75.75 0 0 1 1.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 0 1 1.05-.143Z",clipRule:"evenodd"}))}const O=f.forwardRef(P);var _={},v={};Object.defineProperty(v,"__esModule",{value:!0});class S{constructor(a){this.instance=void 0,this.options=a,typeof window<"u"&&(this.instance=new window.Razorpay(this.options))}on(a,i){if(!this.instance)throw new Error("Razorpay Instance in not ready");this.instance.on(a,i)}open(){if(!this.instance)throw new Error("Razorpay Instance in not ready");this.instance.open()}}v.default=S;var C=c&&c.__createBinding||(Object.create?function(e,a,i,n){n===void 0&&(n=i);var o=Object.getOwnPropertyDescriptor(a,i);(!o||("get"in o?!a.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return a[i]}}),Object.defineProperty(e,n,o)}:function(e,a,i,n){n===void 0&&(n=i),e[n]=a[i]}),B=c&&c.__setModuleDefault||(Object.create?function(e,a){Object.defineProperty(e,"default",{enumerable:!0,value:a})}:function(e,a){e.default=a}),M=c&&c.__importStar||function(e){if(e&&e.__esModule)return e;var a={};if(e!=null)for(var i in e)i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)&&C(a,e,i);return B(a,e),a},L=c&&c.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(_,"__esModule",{value:!0});var R=_.useRazorpay=void 0;const w=M(f),$=L(v),D=()=>{const[e,a]=w.useState(!1),[i,n]=w.useState(),o=typeof window<"u",h=()=>!(!o||!("Razorpay"in window));function y(p){return new Promise((g,t)=>{const s=window.document.createElement("script");s.src=p,s.onload=function(){g()},s.onerror=function(d){t(d.toString())},document.body.appendChild(s)})}return w.useEffect(()=>{o&&(a(!0),h()||y("https://checkout.razorpay.com/v1/checkout.js").then(()=>{n(void 0)}).catch(p=>{p instanceof Error?n(p.message):n("Unknown Error")}).finally(()=>a(!1)))},[]),{error:i,isLoading:e,Razorpay:$.default}};R=_.useRazorpay=D;const I=[{name:"Hobby",id:"tier-hobby",href:"#",price:120,plan:"month",description:"monthly plan",features:["unlimited ai tokens","unlimited ai interviews","unlimited ai quiz","unlimited leetcode analysis","unlimited access to aichatbot"],featured:!1},{name:"Enterprise",id:"tier-enterprise",href:"#",price:1e3,description:"yearly plan",plan:"year",features:["unlimited ai tokens","unlimited ai interviews","unlimited ai quiz","unlimited leetcode analysis","unlimited access to aichatbot"],featured:!0}];function l(...e){return e.filter(Boolean).join(" ")}function F(){const{error:e,isLoading:a,Razorpay:i}=R(),{access:n}=j(t=>t.auth),{profile:o,loading:h}=j(t=>t.profile),y=N();if(h)return r.jsx("div",{children:"Loading..."});if((o==null?void 0:o.subscription_status)===!0)return r.jsx("div",{className:"flex mt-64 justify-center font-bold capitalize leading-7 text-indigo-600 text-3xl",children:"You are already subscribed"});const p=(t,s,d,b)=>{z.post("http://localhost/api/payments/order-complete/",{payment_id:t,order_id:s,signature:d,amount:b},{headers:{Authorization:`Bearer ${n}`}}).then(m=>{x.fire("Success","Payment completed successfully!","success"),y("/")}).catch(m=>{x.fire("Error","There was an issue completing the payment.","error")})},g=t=>{z.post("http://localhost/api/payments/create-order/",{amount:t*100,currency:"INR"},{headers:{Authorization:`Bearer ${n}`}}).then(s=>{const b={key:"rzp_test_l81PWH5yBpJpt3",name:"Level Up",description:"Test Transaction",image:"https://example.com/your_logo",order_id:s.data.id,handler:function(u){p(u.razorpay_payment_id,u.razorpay_order_id,u.razorpay_signature,t)},prefill:{name:"Remith Nair",email:"youremail@example.com",contact:"9999999999"},notes:{address:"Razorpay Corporate Office"},theme:{color:"#3399cc"}},m=new i(b);m.on("payment.failed",function(u){x.fire({icon:"error",title:"Payment Failed",text:`Error Code: ${u.error.code}
Description: ${u.error.description}
Reason: ${u.error.reason}`})}),m.open()}).catch(s=>{x.fire("Error","Failed to initiate payment. Please try again.","error")})};return r.jsx(E,{children:r.jsxs("div",{className:"relative isolate bg-white px-6 py-24 sm:py-32 lg:px-8",children:[r.jsx("div",{className:"mx-auto max-w-2xl text-center lg:max-w-4xl",children:r.jsx("h2",{className:"font-bold capitalize leading-7 text-indigo-600 text-2xl",children:"Pricing"})}),r.jsx("div",{className:"mx-auto  grid max-w-lg grid-cols-1 items-center gap-y-6 sm:mt-20 sm:gap-y-0 lg:max-w-4xl lg:grid-cols-2",children:I.map((t,s)=>r.jsxs("div",{className:l(t.featured?"relative bg-gray-900 shadow-2xl":"bg-white/60","rounded-3xl p-8 ring-1 ring-gray-900/10 sm:p-10"),children:[r.jsx("h3",{id:t.id,className:l(t.featured?"text-indigo-400":"text-indigo-600","text-base font-semibold leading-7"),children:t.name}),r.jsxs("p",{className:"mt-4 flex items-baseline gap-x-2",children:[r.jsxs("span",{className:l(t.featured?"text-white":"text-gray-900","text-5xl font-bold tracking-tight"),children:["â‚¹ ",t.price]}),r.jsxs("span",{className:l(t.featured?"text-gray-400":"text-gray-500","text-base"),children:["/",t.plan]})]}),r.jsx("p",{className:l(t.featured?"text-gray-300":"text-gray-600","mt-6 text-base leading-7"),children:t.description}),r.jsx("ul",{role:"list",className:l(t.featured?"text-gray-300":"text-gray-600","mt-8 space-y-3 text-sm leading-6 sm:mt-10"),children:t.features.map(d=>r.jsxs("li",{className:"flex gap-x-3",children:[r.jsx(O,{"aria-hidden":"true",className:l(t.featured?"text-indigo-400":"text-indigo-600","h-6 w-5 flex-none")}),d]},d))}),r.jsx("button",{onClick:()=>{g(t.price)},"aria-describedby":t.id,className:l(t.featured?"bg-indigo-500 text-white shadow-sm hover:bg-indigo-400":"text-indigo-600 ring-1 ring-inset ring-indigo-200 hover:ring-indigo-300","mt-8 block rounded-md px-3.5 py-2.5 text-center text-sm font-semibold sm:mt-10"),disabled:a,children:a?"Loading...":"Buy Now"}),e&&r.jsxs("p",{children:["Error: ",e]})]},t.id))})]})})}const q=()=>r.jsx("div",{children:r.jsx(F,{})});export{q as default};
