import{r as a,a as I,u as k,b as C,A as f,j as e,C as D,L as _,c as o,B as E,D as J,E as S,F as P,i as g,H as Y,I as A,J as B,K as M}from"./index-DdC0FHAS.js";import{h as q}from"./moment-C5S46NFB.js";import{S as j}from"./sweetalert2.esm.all-Br4OTrmy.js";import{u as O}from"./index-DmNmbST7.js";const H=()=>{const{isOpen:v,onOpen:y,onOpenChange:l}=O(),[i,d]=a.useState(""),[c,x]=a.useState(""),[h,m]=a.useState("");I();const r=k(),{mockId:u,loading:b,error:p,interviews:n}=C(t=>t.interview);a.useEffect(()=>{r(f())},[r]),a.useEffect(()=>{u&&(r(f()),l(!1))},[u]);const w=t=>{t.preventDefault(),r(B({jobPosition:i,jobDesc:c,jobExperience:h})),d(""),x(""),m("")},N=t=>{j.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(s=>{s.isConfirmed&&(r(M({mockId:t})),j.fire("Deleted!","Your interview has been deleted.","success"))})};return e.jsx("div",{className:"flex justify-center  min-h-screen ",children:e.jsxs(D,{className:"w-full max-w-4xl p-8 bg-white shadow-lg rounded-lg mt-2",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-3xl font-semibold text-gray-800",children:"AI Mock Interviews"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Here are all the AI mock interviews you have created. You can create a new one or continue from any existing interview."})]}),e.jsx("div",{className:"mb-8 space-y-4",children:n&&n.length>0?n.map(t=>e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx(_,{to:`/ai/mockInterview/${t.mockId}`,className:"block col-span-3",children:e.jsxs("div",{className:"border  p-4 rounded-lg shadow-sm hover:shadow-md transition-shadow",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-700",children:t.JobPosition}),e.jsxs("p",{className:"text-gray-600",children:["Job Description: ",t.JobDescription]}),e.jsxs("p",{className:"text-gray-600",children:["Experience: ",t.JobExperience," years"]}),e.jsxs("p",{className:"text-gray-500 text-sm",children:["Created on: ",q(t.created_at).format("DD-MM-YYYY")]})]})}),e.jsx(o,{color:"danger",variant:"light",onPress:()=>N(t.mockId),className:" col-span-1 my-auto hidden md:flex items-center gap-2 rounded-2xl border-b-4 border-red-500 bg-red-400 px-5 py-6 font-bold uppercase text-white hover:bg-red-800 hover:border-red-700 ",children:"Delete"})]},t.mockId)):e.jsx("p",{className:"text-gray-600",children:"No interviews found. Create your first one!"})}),e.jsx("div",{className:"flex justify-center",children:e.jsx(o,{className:" hidden md:flex items-center gap-2 rounded-2xl border-b-4 border-blue-500 bg-blue-400 px-5 py-6 font-bold uppercase text-white transition hover:brightness-110",onPress:y,children:"Create and start a new AI mock interview"})}),e.jsx(E,{isOpen:v,onOpenChange:l,children:e.jsx(J,{children:t=>e.jsxs(e.Fragment,{children:[e.jsx(S,{className:"flex flex-col gap-1",children:e.jsx("h2",{className:"font-bold text-2xl text-center",children:"Tell us more about your job interview"})}),e.jsxs(P,{children:[e.jsxs("form",{onSubmit:w,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-gray-700 mb-2",children:"Job Position/Role"}),e.jsx(g,{type:"text",label:"Job Position",value:i,onChange:s=>d(s.target.value),placeholder:"e.g., Software Engineer",fullWidth:!0,required:!0})]}),e.jsx("div",{children:e.jsx(Y,{label:"Job Description/Tech Stack",labelPlacement:"outside",placeholder:"e.g., React, Node.js, etc.",value:c,onChange:s=>x(s.target.value),fullWidth:!0,required:!0})}),e.jsx("div",{children:e.jsx(g,{type:"number",min:0,label:"Years of Experience",value:h,onChange:s=>m(s.target.value),placeholder:"e.g., 2",fullWidth:!0,required:!0})}),e.jsxs(A,{className:"flex justify-between",children:[e.jsx(o,{color:"danger",variant:"light",onPress:t,className:" hidden md:flex items-center gap-2 rounded-2xl border-b-4 border-red-500 bg-red-400 px-5 py-6 font-bold uppercase text-white transition hover:brightness-110",children:"Close"}),e.jsx(o,{color:"primary",type:"submit",disabled:b,className:" hidden md:flex items-center gap-2 rounded-2xl border-b-4 border-green-500 bg-green-400 px-5 py-6 font-bold uppercase text-white transition hover:brightness-110",children:b?"Generating...":"Create Mock Interview"})]})]}),p&&e.jsx("p",{className:"text-red-500 mt-2",children:p})]})]})})})]})})};export{H as default};
