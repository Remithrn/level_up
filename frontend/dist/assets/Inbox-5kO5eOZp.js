import{P as w,S as U,a1 as F,a2 as E,r as i,a5 as M,a6 as b,V as k,a7 as I,aa as R,j as e,b as v,C as S,L as A}from"./index-DdC0FHAS.js";import{a as D}from"./chunk-QXREVWCS-CIgRqFG9.js";var O=w({slots:{base:["inline-flex items-center justify-center gap-2 rounded-small outline-none",...U],wrapper:"inline-flex flex-col items-start",name:"text-small text-inherit",description:"text-tiny text-foreground-400"}});function T(o){const{as:a,ref:l,name:c,description:n,className:t,classNames:s,isFocusable:r=!1,avatarProps:d={},...x}=o,N={isFocusable:!1,...d},m=a||"div",g=typeof m=="string",y=F(l),{isFocusVisible:P,isFocused:$,focusProps:h}=E({}),p=i.useMemo(()=>r||a==="button",[r,a]),u=i.useMemo(()=>O(),[]),f=M(s==null?void 0:s.base,t),C=i.useCallback(()=>({ref:y,tabIndex:p?0:-1,"data-focus-visible":b(P),"data-focus":b($),className:u.base({class:f}),...k(I(x,{enabled:g}),p?h:{})}),[p,u,f,h,x]);return{Component:m,className:t,slots:u,name:c,description:n,classNames:s,baseStyles:f,avatarProps:N,getUserProps:C}}var j=R((o,a)=>{const{Component:l,name:c,slots:n,classNames:t,description:s,avatarProps:r,getUserProps:d}=T({...o,ref:a});return e.jsxs(l,{...d(),children:[e.jsx(D,{...r}),e.jsxs("div",{className:n.wrapper({class:t==null?void 0:t.wrapper}),children:[e.jsx("span",{className:n.name({class:t==null?void 0:t.name}),children:c}),e.jsx("span",{className:n.description({class:t==null?void 0:t.description}),children:s})]})]})});j.displayName="NextUI.User";var V=j;const L=()=>{const{access:o}=v(s=>s.auth),[a,l]=i.useState([]),c=async()=>{try{const s=await fetch("http://localhost/api/chat/",{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${o}`}});if(s.ok){const r=await s.json();l(r)}else console.error("Error fetching conversations:",s.statusText)}catch(s){console.error("Error fetching conversations:",s)}},n=v(s=>s.auth.user),t=s=>s.users.find(r=>r.id!==n.pk);return i.useEffect(()=>{o&&c()},[o]),e.jsx(S,{className:"min-h-screen bg-gray-100 py-10",children:e.jsxs("main",{children:[e.jsx("h1",{className:"text-3xl font-bold mb-6 border-b pb-4  uppercase",children:"Inbox"}),e.jsx("div",{className:"flex flex-col justify-start items-start gap-4",children:a.length>0?a.map(s=>e.jsx(V,{className:"flex flex-col w-full items-start gap-2 self-start rounded-2xl border-b-4 border-violet-400 bg-violet-300 px-5 py-6 font-bold uppercase text-white transition hover:brightness-110 md:flex",description:e.jsxs(A,{to:`/chats/${s.id}`,className:"text-sm font-medium text-blue-600 hover:text-blue-800",children:["@",t(s).username]}),avatarProps:{src:`http://localhost${t(s).profile_picture}`},children:e.jsx("div",{className:"flex flex-col ml-4",children:e.jsx("p",{className:"text-gray-800 font-semibold",children:t(s).username})})},s.id)):e.jsx("p",{className:"text-center text-gray-500",children:"No conversations found."})})]})})};export{L as default};
